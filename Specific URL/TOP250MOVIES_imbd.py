# one line
import json;[(fetch('https://www.imdb.com/search/title/?groups=top_250&sort=user_rating,desc&ref_=adv_nxt&start=' + str(page)),[open('250imbd.json','a').write('\n' +json.dumps({'number': r.css('span[class="lister-item-index unbold text-primary"]::text').get().replace('.',''),'title':r.css('h3[class="lister-item-header"]> a::text').get(),'year':r.css('span[class="lister-item-year text-muted unbold"]::text').get(),'rating':r.css('div[name="ir"] > strong::text').get(),'description': str(r.css('p.text-muted::text').getall()[-1:]).strip('[').strip(']').replace('\\n',"").replace("\\","").replace('"','').split("  ")[-1:],'director': r.css('p > a::text').getall()[0],'stars': r.css('p > a::text ').getall()[1:],'duration': r.css('span.runtime::text').get(),'suitable age':r.css('span.certificate::text').get(),'genre':r.css('span.genre::text').get().strip('\n').replace(' ',''),'image ':'https://www.imdb.com/' + r.css('div[class="lister-item-image float-left"] > a::attr(href)').get()},indent=2)) for r in response.css('div[class="lister-item mode-advanced"]')]) for page in [1,51, 101 , 151 , 201] ]
